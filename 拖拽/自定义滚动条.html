<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>自定义滚动条</title>
    <style>
        #container {
            width: 400px;
            height: 500px;
            /*background-color: #000;*/
            margin: 100px auto;
            position: relative;
            border: 2px solid black;
            overflow: hidden;
        }

        #content {
            position: absolute;
            background-color: ghostwhite;
            width: 360px;
            padding: 10px;
        }

        #content span {
            font-size: 18px;
        }

        #scrollBar {
            width: 20px;
            height: 100%;
            background-color: #000;
            position: absolute;
            right: 0;
            top: 0;
        }

        #bar {
            width: 100%;
            height: 70px;
            background-color: red;
            cursor: pointer;
            position: relative;
        }
    </style>
</head>
<body>
<div id="container">
    <div id="content">
            <span>
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
                测试测试测试测试测试测试测试测试测试测试测end
            </span>
    </div>
    <div id="scrollBar">
        <div id="bar"></div>
    </div>
</div>

<script>
    (function () {
        var oBar = document.getElementById('bar');
        var oScrollBar = document.getElementById('scrollBar');
        var oContent = document.getElementById('content');
        var oContainer = document.getElementById('container');
        oBar.onmousedown = function (e) {
            e = e || window.event;
            var iDisY = e.clientY - this.offsetTop;
            document.onmousemove = function (e) {
                e = e || window.event;
                var iTop = e.clientY - iDisY;
                var fScale = iTop / (oScrollBar.offsetHeight - oBar.offsetHeight);
                if (iTop < 0) {
                    oBar.style.top = 0 + 'px';
                } else if (iTop > oScrollBar.offsetHeight - oBar.offsetHeight) {
                    oBar.style.top = oScrollBar.offsetHeight - oBar.offsetHeight + 'px';
                } else {
                    oBar.style.top = iTop + 'px';
                    oContent.style.top = -(oContent.offsetHeight - oContainer.offsetHeight) * fScale + 'px';
                }
                return false;
            }
        };
        document.onmouseup = function () {
            document.onmousemove = null;
            return false;
        }

    })();
</script>
</body>
</html>